# Shogun Memory — Persistent Agent Context

This file persists across sessions and is read by the Shogun agent at startup.
`memory/MEMORY.md` is gitignored — your private data never enters the OSS repo.

---

## How to Use: MEMORY.md vs Memory MCP

Two memory systems exist. Use them for different purposes:

| | MEMORY.md | Memory MCP (graph) |
|---|---|---|
| **Loaded** | Auto at session start | Only when you call `read_graph` |
| **Cost** | Free (already in context) | Tokens per call |
| **Format** | Plain text | Entities + Relations |
| **Best for** | Rules, settings, current state | Lessons, decisions, relationships |

**Rule of thumb:**
- "I need this every session" → **MEMORY.md**
- "I need to query: what caused X / what's related to Y" → **Memory MCP**

### What to put in MEMORY.md
- Your profile (GitHub, X, etc.)
- Stable behavioral rules for Shogun
- CLI and agent configuration
- Active project references and URLs
- TODO backlog

### What to put in Memory MCP
- Incidents and their root causes (entity → caused_by → entity)
- Architecture decisions with reasoning (decision → chosen_over → alternative)
- Lord's preferences by category (pref → applies_to → context)
- Cross-project lessons learned

### Example Memory MCP entry
```
mcp__memory__create_entities([{
  name: "incident_pr31",
  entityType: "incident",
  observations: ["Gunshi review skipped → venv preflight missing → deploy broke"]
}])
mcp__memory__create_relations([{
  from: "incident_pr31", to: "rule_always_gunshi_infra_pr", relationType: "caused"
}])
```

---

## Lord's Basic Info

- **X (Twitter)**: @your_handle
- **GitHub**: your-username

## Shogun Core Rules (read every session)

<!-- Add stable behavioral rules discovered through use -->

## CLI Notes

| CLI | Config file | Reset cmd | Notes |
|-----|------------|-----------|-------|
| Claude Code | CLAUDE.md | /clear | Stop hook for inbox delivery |

## Agent Config

<!-- Ashigaru CLI assignments, model config -->

## Project Index

<!-- Active projects and their YAML paths -->
<!-- Format: - project-name: projects/foo.yaml (brief status) -->

## TODO

<!-- Persistent backlog items -->
